if(typeof WH==="undefined"){var g_staticUrl="https://wow.zamimg.com";var WH={data:{},entities:{},wowheadRemote:true}}WH.isTouch=function(){if(!WH.wowheadRemote&&typeof Platform!=="undefined"){WH.isTouch=function(){return Platform.isTouch()}}else{var b=navigator.userAgent||navigator.vendor||window.opera;var a={isMobile:false,isTablet:false};if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4))){a.isMobile=true}if(!a.isMobile&&/(android|ipad|playbook|silk)/i.test(b)){a.isTablet=true}WH.isTouch=(function(c){return c.isMobile||c.isTablet}).bind(null,a);WH.isMobile=(function(c){return c}).bind(null,a.isMobile);WH.isTablet=(function(c){return c}).bind(null,a.isTablet)}return WH.isTouch()};if(typeof $WowheadPower==="undefined"){var $WowheadPower=new function(){var ac={1:{name:"NPC",path:"npc",data:{},maxId:500000},2:{name:"Object",path:"object",data:{},maxId:750000},3:{name:"Item",path:"item",data:{},maxId:500000},4:{name:"Item Set",path:"item-set",data:{},maxId:10000,minId:-5000},5:{name:"Quest",path:"quest",data:{},maxId:100000},6:{name:"Spell",path:"spell",data:{},maxId:500000},7:{name:"Zone",path:"zone",data:{},maxId:50000},10:{name:"Achievement",path:"achievement",data:{},maxId:50000},12:{name:"Holiday",path:"event",data:{},maxId:10000},17:{name:"Currency",path:"currency",data:{},maxId:10000},20:{name:"Building",path:"building",data:{},maxId:1000},21:{name:"Follower",path:"follower",data:{},maxId:10000},22:{name:"Mission Ability",path:"mission-ability",data:{},maxId:10000},23:{name:"Mission",path:"mission",data:{},maxId:10000},25:{name:"Ship",path:"ship",data:{},maxId:10000},26:{name:"Threat",path:"threat",data:{},maxId:1000},27:{name:"Resource",path:"resource",data:{},maxId:100,minId:0},28:{name:"Champion",path:"champion",data:{},maxId:10000},30:{name:"Order Advancement",path:"order-advancement",data:{},maxId:5000},38:{name:"BFA Champion",path:"bfa-champion",data:{},maxId:10000},40:{name:"Affix",path:"affix",data:{},maxId:1000},42:{name:"Azerite Essence Power",path:"azerite-essence-power",data:{},maxId:1000},43:{name:"Azerite Essence",path:"azerite-essence",data:{},maxId:100},100:{name:"Guide",path:"guide",data:{}},101:{name:"Transmog Set",path:"transmog-set",data:{},maxId:50000},110:{name:"Outfit",path:"outfit",data:{}},200:{name:"Pet Ability",path:"pet-ability",data:{},maxId:10000}};var P=WH.wowheadRemote;var B=false;var ay={applyto:3},M=document.getElementsByTagName("head")[0],aM,aD={attach:3,attachToIcon:1,attachWithoutScreenshot:4,"float":0,floatWithoutIcon:5,screen:2},A=550,aT={colorLinks:"colorlinks",iconizeLinks:"iconizelinks",renameLinks:"renamelinks"},ak,F,T,aw,p,ao,au,at,an=aD["float"],H=false,ae=null,G=1,E=1,aH=-1,o=0,e=1,O=0,af=1,aC=2,g=3,al=4,y=5,ad=1,U=2,x=3,l=4,aF=5,ah=6,X=7,Y=10,m=12,W=13,k=17,aE=20,ab=21,D=22,aG=23,t=25,ai=26,q=27,N=28,aS=30,aO=38,d=40,aL=42,n=100,aK=101,b=110,aq=200,f=15,C=15,a={0:{achievementComplete:"Achievement earned by $1 on $2/$3/$4",loading:"Loading鈥�",noResponse:"No response from server :(",notFound:"%s Not Found"},1:{achievementComplete:"$1鞚�(臧€) $2/$3/$4鞐� 鞐呾爜鞚� 雼劚頃�",loading:"搿滊敥 欷戔€�",noResponse:"靹滊矂臧€ 鞚戨嫷頃橃 鞎婌姷雼堧嫟 :(",notFound:"%s 鞚�(毳�) 彀眷潉 靾� 鞐嗢潓"},2:{achievementComplete:"Haut-fait re莽u par $1 le $2/$3/$4",loading:"Chargement鈥�",noResponse:"Pas de r茅ponse du serveur :(",notFound:"%s non trouv茅"},3:{achievementComplete:"Erfolg wurde von $1 am $3.$2.$4 errungen",loading:"L盲dt鈥�",noResponse:"Keine Antwort vom Server :(",notFound:"%s nicht gefunden"},4:{achievementComplete:"$1鍦�$2/$3/$4涓婅幏寰楁垚灏�",loading:"姝ｅ湪杞藉叆鈥�",noResponse:"鏈嶅姟鍣ㄦ病鏈夊搷搴� :(",notFound:"%s鏈壘鍒�"},6:{achievementComplete:"Logro conseguido por $1 el $2/$3/$4",loading:"Cargando鈥�",noResponse:"No hay respuesta del servidor :(",notFound:"%s no encontrado/a"},7:{achievementComplete:"$1 锌芯谢褍褔懈谢(邪) 褝褌芯 写芯褋褌懈卸械薪懈械 $2/$3/$4",loading:"袟邪谐褉褍蟹泻邪鈥�",noResponse:"袧械褌 芯褌胁械褌邪 芯褌 褋械褉胁械褉邪 :(",notFound:"%s 薪械 薪邪泄写械薪芯"},8:{achievementComplete:"Conquista conseguida por $1 em $3/$2/$4",loading:"Carregando鈥�",noResponse:"Sem resposta do servidor :(",notFound:"%s n茫o encontrado(a)"},9:{achievementComplete:"Impresa compiuta da $1 su $2/$3/$4",loading:"Caricamento鈥�",noResponse:"Nessuna risposta dal server :(",notFound:"%s Non Trovato"}},v=[n];var aa=new function(){var aY={};var aX={};var aW={};var aV={};this.fetch=function(a2,a4){if(!aV.hasOwnProperty(a2)||aV[a2].hasOwnProperty(a4)){return}aV[a2][a4]=af;aY[a2][a4]=[];var a3=a4;switch(a4){case"beta":a3=WH.BETA_DOMAIN||a3;break;case"live":a3="www";break}var a1=aj(a3)+aX[a2];a1+=(typeof g_wow_build!=="undefined")?"&"+g_wow_build:"";a1+="&json";WH.xhrJsonRequest(a1,(function(a5,a7,a6){if(!a6){WH.error("Wowhead tooltips failed to load scaling data for "+av(a5));return}aa.setData(a5,a7,a6)}).bind(null,a2,a4))};this.getSpellsBySpec=function(a1,a2){var a3=T||WH.getDataEnv();this.registerCallback(W,a3,function(){var a5=aW[W][a3];var a4=[];if(a5.specMap.hasOwnProperty(a1)){a4=a5["class"][a5.specMap[a1]].concat(a5.spec[a1]||[])}a2(a4)})};this.isLoaded=function(a1,a2){if(!aV.hasOwnProperty(a1)){return true}if(aV[a1][a2]===al){aZ();return true}return false};this.registerCallback=function(a1,a3,a2){if(this.isLoaded(a1,a3)){window.requestAnimationFrame(a2);return}if(!aY[a1].hasOwnProperty(a3)){this.fetch(a1,a3)}aY[a1][a3].push(a2)};this.setData=function(a2,a4,a3){aV[a2][a4]=al;aY[a2][a4]=aY[a2][a4]||[];aW[a2][a4]=a3;aZ();var a1=aY[a2][a4];while(a1.length){a1.shift()()}};function a0(){aX[x]="/data/item-scaling";aX[ah]="/data/spell-scaling";aX[W]="/data/spec-spells";for(var a1 in aX){if(!aX.hasOwnProperty(a1)){continue}aV[a1]={};aY[a1]={};aW[a1]={}}}function aZ(){var a2=T||WH.getDataEnv();var a1;if(a1=aW[x][a2]){WH.convertRatingToPercent.RB=a1.combatRatingsBase;WH.convertRatingToPercent.LH=a1.ratingsToPercentLH;WH.convertRatingToPercent.RM=a1.ratingsToPercentRM;WH.convertRatingToPercent.LT=a1.ratingsToPercentLT;WH.convertScalingFactor.SV=a1.itemScalingValue;WH.convertScalingFactor.SD=a1.scalingFactors;WH.curvePoints=a1.curvePoints;WH.applyStatModifications.ScalingData=a1.scalingData;WH.data.artifactKnowledgeMultiplier=a1.artifactKnowledgeMultiplier}if(a1=aW[ah][a2]){WH.convertScalingSpell.SV=a1.scalingValue;WH.convertScalingSpell.SpellInformation=a1.spellInformation;WH.convertScalingSpell.RandPropPoints=a1.randPropPoints}}a0()};this.setScales=aa.setData;var s={0:"enus",1:"kokr",2:"frfr",3:"dede",4:"zhcn",6:"eses",7:"ruru",8:"ptbr",9:"itit"};var Z={getId:function(){return 0},getName:function(){return"enus"}};if(typeof aN==="undefined"){var aN={tooltip_genericrating:'<span class="q2">Equip: Increases your $1 by <!--rtg$2-->$3&nbsp;<small>(<!--rtg%$2-->0&nbsp;@&nbsp;L<!--lvl-->0)</small>.</span><br />',tooltip_reforged:"Reforged ($1 $2 &rarr; $1 $3)",traits:{agi:["Agility","Agi","Agi"],arcres:["Arcane resistance","Arcane Resist","ArcR"],arcsplpwr:["Arcane spell power","Arcane Power","ArcP"],armor:["Armor","Armor","Armor"],armorbonus:["Additional armor","Bonus Armor","AddAr"],armorpenrtng:["Armor penetration rating","Armor Pen","Pen"],atkpwr:["Attack power","AP","AP"],block:["Block value","Block Value","BkVal"],blockrtng:["Block rating","Block","Block"],critstrkrtng:["Critical strike rating","Crit","Crit"],defrtng:["Defense rating","Defense","Def"],dmg:["Weapon damage","Damage","Dmg"],dmgmax1:["Maximum damage","Max Damage","Max"],dmgmin1:["Minimum damage","Min Damage","Min"],dodgertng:["Dodge rating","Dodge","Dodge"],dps:["Damage per second","DPS","DPS"],exprtng:["Expertise rating","Expertise","Exp"],firres:["Fire resistance","Fire Resist","FirR"],firsplpwr:["Fire spell power","Fire Power","FireP"],frores:["Frost resistance","Frost Resist","FroR"],frosplpwr:["Frost spell power","Frost Power","FroP"],hastertng:["Haste rating","Haste","Haste"],health:["Health","Health","Hlth"],healthrgn:["Health regeneration","HP5","HP5"],hitrtng:["Hit rating","Hit","Hit"],holres:["Holy resistance","Holy Resist","HolR"],holsplpwr:["Holy spell power","Holy Power","HolP"],"int":["Intellect","Int","Int"],level:["Level","Level","Lvl"],mana:["Mana","Mana","Mana"],manargn:["Mana regeneration","MP5","MP5"],mastrtng:["Mastery rating","Mastery","Mastery"],mleatkpwr:["Melee attack power","Melee AP","AP"],mlecritstrkrtng:["Melee critical strike rating","Melee Crit","Crit"],mledmgmax:["Melee maximum damage","Melee Max Damage","Max"],mledmgmin:["Melee minimum damage","Melee Min Damage","Min"],mledps:["Melee DPS","Melee DPS","DPS"],mlehastertng:["Melee haste rating","Melee Haste","Haste"],mlehitrtng:["Melee hit rating","Melee Hit","Hit"],mlespeed:["Melee speed","Melee Speed","Speed"],natres:["Nature resistance","Nature Resist","NatR"],natsplpwr:["Nature spell power","Nature Power","NatP"],nsockets:["Number of sockets","Sockets","Sockt"],parryrtng:["Parry rating","Parry","Parry"],reqarenartng:["Required personal and team arena rating","Req Rating","Rating"],reqlevel:["Required level","Req Level","Level"],resirtng:["PvP Resilience rating","PvP Resilience","Resil"],rgdatkpwr:["Ranged attack power","Ranged AP","RAP"],rgdcritstrkrtng:["Ranged critical strike rating","Ranged Crit","Crit"],rgddmgmax:["Ranged maximum damage","Ranged Max Damage","Max"],rgddmgmin:["Ranged minimum damage","Ranged Min Damage","Min"],rgddps:["Ranged DPS","Ranged DPS","DPS"],rgdhastertng:["Ranged haste rating","Ranged Haste","Haste"],rgdhitrtng:["Ranged hit rating","Ranged Hit","Hit"],rgdspeed:["Ranged speed","Ranged Speed","Speed"],sepbasestats:"Base stats",sepdefensivestats:"Defensive stats",sepindividualstats:"Individual stats",sepoffensivestats:"Offensive stats",sepresistances:"Resistances",sepweaponstats:"Weapon stats",shares:["Shadow resistance","Shadow Resist","ShaR"],shasplpwr:["Shadow spell power","Shadow Power","ShaP"],speed:["Speed","Speed","Speed"],spi:["Spirit","Spi","Spi"],splcritstrkrtng:["Spell critical strike rating","Spell Crit","Crit"],spldmg:["Damage done by spells","Spell Damage","Dmg"],splheal:["Healing done by spells","Healing","Heal"],splpwr:["Spell power","Spell Power","SP"],splhastertng:["Spell haste rating","Spell Haste","Haste"],splhitrtng:["Spell hit rating","Spell Hit","Hit"],splpen:["Spell penetration","Spell Pen","Pen"],sta:["Stamina","Sta","Sta"],str:["Strength","Str","Str"],pvppower:["PvP Power","PvPPower","PvPPower"]}}}function ar(){if(WH.Tooltip){WH.wowheadRemotePreload=true}if(P){if(!WH.wowheadRemotePreload){var aV=["basic.js?22"];if(j("iconSize")){aV.push("global/WH/Icon.js")}for(var aY=0,aX;aX=aV[aY];aY++){var aW=document.createElement("script");aW.src=g_staticUrl+"/js/"+aX;M.appendChild(aW)}}}else{R();u(function(){Z=window.Locale;aa.fetch(x,WH.getDataEnv());aa.fetch(ah,WH.getDataEnv())})}}function ax(){var aW=j("hide");if(!aW){return}if(typeof aM!=="undefined"){return}if(!document.styleSheets){return}var aX=document.createElement("style");aX.type="text/css";M.appendChild(aX);if(!window.createPopup){M.appendChild(document.createTextNode(""))}aM=document.styleSheets[document.styleSheets.length-1];for(var aV in aW){if(!aW.hasOwnProperty(aV)||!aW[aV]){continue}if(aM.insertRule){aM.insertRule(".wowhead-tooltip .whtt-"+aV+"{display: none}",aM.cssRules.length)}else{if(aM.addRule){aM.addRule(".wowhead-tooltip .whtt-"+aV,"display: none",-1)}}}}this.getEntity=function(aW,aZ,aY,aV){var aX=aR(aW);aX[aZ]=aX[aZ]||{};aX[aZ][aY]=aX[aZ][aY]||{};aX[aZ][aY][aV]=aX[aZ][aY][aV]||{status:O,callbacks:[],data:{}};return aX[aZ][aY][aV]};function aR(aV){if(typeof ac[aV]!=="object"){throw new Error("Wowhead tooltips could not find config for entity #"+aV)}return ac[aV].data}function aI(aV){if(typeof ac[aV]!=="object"){WH.error("Wowhead tooltips could not find config for entity #"+aV);return undefined}if(!WH.wowheadRemote||!ac[aV].hasOwnProperty("maxId")){return undefined}return{min:ac[aV].hasOwnProperty("minId")?ac[aV].minId:1,max:ac[aV].maxId}}function av(aV){if(typeof ac[aV]!=="object"){WH.error("Wowhead tooltips could not find config for entity #"+aV);return"Entity"}return ac[aV].name}function am(aV){if(typeof ac[aV]!=="object"){WH.error("Wowhead tooltips could not find config for entity #"+aV);return"unknown"}return ac[aV].path}function c(aV,aW){var aX=a[aV]||a[0];return aX[aW]||""}function j(aW){var aV=S();if(!aV){return null}if(!aV.hasOwnProperty(aW)){if(aT[aW]&&aV.hasOwnProperty(aT[aW])){return aV[aT[aW]]}return null}return aV[aW]}function S(){if(typeof whTooltips==="object"){return whTooltips}if(typeof wowhead_tooltips==="object"){return wowhead_tooltips}return null}function R(){if(H){return}H=true;WH.aE(document,"keydown",function(aV){aV=WH.normalizeEvent(aV);switch(aV.keyCode){case 27:$WowheadPower.clearTouchTooltip();WH.Tooltip.hide();break}});if(WH.isTouch()){i()}else{WH.aE(document,"mouseover",I)}}this.attachTouchTooltips=function(aV){if(!WH.isTouch()){return}if(aV&&aV.nodeType===1){i(aV)}};function u(aV){if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",aV)}else{aV()}}function i(aV){if(!WH.isTouch()){return}u(function(){aV=aV||document.body;var aW=WH.gE(aV,"a");for(var aX in aW){if(aW[aX].onclick==null){aW[aX].onclick=r;continue}WH.aE(aW[aX],"click",r)}})}this.init=function(){if(j("iconSize")&&typeof Icon==="undefined"){setTimeout($WowheadPower.init,10);return}if(P){if(!WH.wowheadRemotePreload){WH.ae(M,WH.ce("link",{type:"text/css",href:g_staticUrl+"/css/basic.css?&14",rel:"stylesheet"}));if(j("iconSize")){WH.ae(M,WH.ce("link",{type:"text/css",href:g_staticUrl+"/css/global/icon.css",rel:"stylesheet"}))}}}R();u(function(){if(j("renameLinks")||j("colorLinks")||j("iconizeLinks")||j("iconSize")){for(var aV=0;aV<document.links.length;aV++){var aW=document.links[aV];J(aW)}ax()}})};function L(aV){var aW=WH.getCursorPos(aV);au=aW.x;at=aW.y}function J(aY,bj){if(aY.nodeName!=="A"&&aY.nodeName!=="AREA"){return aH}var a2=aY.rel;try{if(aY.dataset&&aY.dataset.hasOwnProperty("wowhead")){a2=aY.dataset.wowhead}else{if(aY.getAttribute&&aY.getAttribute("data-wowhead")){a2=aY.getAttribute("data-wowhead")}}}catch(bo){void (0)}if((!aY.href.length&&!a2)||(a2&&/^np\b/.test(a2))||(aY.getAttribute("data-disable-wowhead-tooltip")==="true")||(WH.isTouch()&&aY.getAttribute("data-disable-wowhead-touch-tooltip")==="true")){return o}var bg,bf,be,aW,bl={};p=bl;var a1=function(bq,br,bs){switch(br){case"buff":case"map":case"noimage":case"nomajor":case"notip":case"premium":case"pvp":case"sock":case"text":case"twcata":case"twmists":case"twtbc":case"twwotlk":bl[br]=true;break;case"artk":case"c":case"dd":case"ddsize":case"diff":case"diffnew":case"ench":case"gem1lvl":case"gem2lvl":case"gem3lvl":case"ilvl":case"level":case"lvl":case"nlc":case"pwr":case"q":case"rand":case"rank":case"spec":case"tink":case"upgd":bl[br]=parseInt(bs);break;case"abil":case"azerite-powers":case"bonus":case"cri":case"forg":case"gem1bonus":case"gem2bonus":case"gem3bonus":case"gems":case"know":case"pcs":case"rewards":bl[br]=bs.split(":");break;case"domain":case"who":bl[br]=bs;break;case"image":if(bs==="premium"){bl[bs]=true}else{bl[br]=bs?("_"+bs):""}break;case"transmog":if(bs==="hidden"){bl[br]=bs}else{bl[br]=parseInt(bs)}break;case"when":bl[br]=new Date(parseInt(bs));break}};if(ay.applyto&1){bf=2;be=3;if(aY.href.indexOf("http://")==0||aY.href.indexOf("https://")==0){bg=1;aW=aY.href.match(/^https?:\/\/(.+?)?\.?(?:wowhead)\.com(?:\:\d+)?\/\??(item|quest|spell|zone|achievement|event|itemset|item-set|transmog-set|outfit|guide|statistic|currency|npc|object|pet-ability|petability|building|follower|champion|bfa-champion|garrisonability|mission-ability|mission|ship|threat|resource|order-advancement|affix|azerite-essence|azerite-essence-power)[=/](?:[^/?&#]+-)?([0-9\.-]+)/);if(!aW){aW=aY.href.match(/^https?:\/\/(.+?)?\.?(?:wowhead)\.com(?:\:\d+)?\/(guide)s\/([^\?&#]+)/)}E=0}else{aW=aY.href.match(/()\/\??(item|quest|spell|zone|achievement|event|itemset|item-set|transmog-set|outfit|statistic|currency|npc|object|pet-ability|petability|building|follower|champion|bfa-champion|garrisonability|mission-ability|mission|ship|threat|resource|order-advancement|affix|azerite-essence|azerite-essence-power|guide)[=/](?:[^/?&#]+-)?([0-9\.-]+)/);if(!aW){aW=aY.href.match(/()\/(guide)s\/([^\?&#]+)/)}E=1}}if(aW==null&&a2&&(ay.applyto&2)){bg=0;bf=1;be=2;aW=a2.match(/(item|quest|spell|zone|achievement|event|itemset|item-set|transmog-set|outfit|statistic|currency|npc|object|pet-ability|petability|building|follower|champion|bfa-champion|garrisonability|mission-ability|mission|ship|threat|resource|order-advancement|affix|azerite-essence|azerite-essence-power|guide).?([0-9\.-]+)/);E=1}if(!aW){return o}aY.href.replace(/([a-zA-Z0-9-]+)=?([^&?#]*)/g,a1);if(a2){a2.replace(/([a-zA-Z0-9-]+)=?([^&?#]*)/g,a1)}if(bl.gems&&bl.gems.length>0){var bk;for(bk=Math.min(3,bl.gems.length-1);bk>=0;--bk){if(parseInt(bl.gems[bk])){break}}++bk;if(bk==0){delete bl.gems}else{if(bk<bl.gems.length){bl.gems=bl.gems.slice(0,bk)}}}var aX=["bonus","gem1bonus","gem2bonus","gem3bonus"];for(var bc=0,a3;a3=aX[bc];bc++){if(bl[a3]&&bl[a3].length>0){for(bk=Math.min(16,bl[a3].length-1);bk>=0;--bk){if(parseInt(bl[a3][bk])){break}}++bk;if(bk==0){delete bl[a3]}else{if(bk<bl[a3].length){bl[a3]=bl[a3].slice(0,bk)}}}}if(bl.abil&&bl.abil.length>0){var bk,bn=[],bi;for(bk=0;bk<Math.min(8,bl.abil.length);bk++){if(bi=parseInt(bl.abil[bk])){bn.push(bi)}}if(bn.length==0){delete bl.abil}else{bl.abil=bn}}if(bl.rewards&&bl.rewards.length>0){var bk;for(bk=Math.min(3,bl.rewards.length-1);bk>=0;--bk){if(/^\d+.\d+$/.test(bl.rewards[bk])){break}}++bk;if(bk==0){delete bl.rewards}else{if(bk<bl.rewards.length){bl.rewards=bl.rewards.slice(0,bk)}}}ao=aY;var bp=null;var bh=Z.getId();var aV=WH.getDataEnv();if(bl.domain){bp=bl.domain.toLowerCase()}else{if(bg&&aW[bg]){bp=aW[bg].toLowerCase().replace(/(?:^|\.)(staging|dev)$/,"")}}if(bp!==null){aV="live";bh=WH.getLocaleFromDomain(bp);if((new RegExp("\\b"+WH.BETA_DOMAIN+"\\b")).test(bp)){aV="beta"}else{for(var ba in WH.dataEnv){if(!WH.dataEnv.hasOwnProperty(ba)){continue}if((new RegExp("\\b"+WH.dataEnv[ba]+"\\b")).test(bp)){aV=WH.dataEnv[ba];break}}}}if(aV==="ptr"&&!WH.isPtrActive()){aV="live"}if(aV==="beta"&&!WH.isBetaActive()){aV="live"}if(["beta","ptr"].indexOf(aV)>=0){bh=0}if(aY.href.indexOf("#")!=-1&&document.location.href.indexOf(aW[bf]+"="+aW[be])!=-1){return o}var a6=false;if(WH.isTouch()){if("innerWidth" in window){a6=window.innerWidth<A}else{var bm=document.documentElement||document.body;a6=!isNaN(bm.clientWidth)&&bm.clientWidth<A}}an=aD["float"];if(a6){an=aD.screen}else{if((aY.parentNode.className.indexOf("icon")==0&&aY.parentNode.nodeName=="DIV")||aY.getAttribute("data-whattach")=="icon"){an=aD.attachToIcon}else{if(WH.isTouch()||aY.getAttribute("data-whattach")=="true"){an=aD.attach}else{var a5=aY.parentNode;var a4=0;while(a5){if(a5.className&&a5.className.indexOf("menu-inner")==0){an=aD.attachWithoutScreenshot;break}a4++;if(a4>9){break}a5=a5.parentNode}}}}if(!WH.isTouch()&&!aY.onmouseout){if(an===aD["float"]){aY.onmousemove=aA}aY.onmouseout=ag}if(an===aD["float"]&&aY.dataset.whtticon==="false"){an=aD.floatWithoutIcon}if(bj){B=true;L(bj)}var a8=aW[bf];var a0=WH.getTypeIdFromTypeString(a8);var aZ=aW[be];WH.Tooltip.showingTooltip=true;if(typeof aY.overrideTooltip=="object"){var bb=aY.overrideTooltip.html;var a9=aY.overrideTooltip.html2;if(typeof aY.overrideTooltip.htmlGenerator=="function"){bb=aY.overrideTooltip.htmlGenerator(aY.overrideTooltip)}if(typeof aY.overrideTooltip.html2Generator=="function"){a9=aY.overrideTooltip.html2Generator(aY.overrideTooltip)}if(aY.overrideTooltip.spanClass){bb='<span class="'+aY.overrideTooltip.spanClass+'">'+bb+"</span>";if(a9){a9='<span class="'+aY.overrideTooltip.spanClass+'">'+a9+"</span>"}}aQ(bh,bb,aY.overrideTooltip.icon,aY.overrideTooltip.map,aY.overrideTooltip.spellData,a9,aY.overrideTooltip.image,aY.overrideTooltip.imageClass)}else{h(a0,aZ,aV,bh,bl)}if(bj||!S()){return e}var bd=$WowheadPower.getEntity(a0,ap(a0,aZ,bl),aV,bh);var a7=function(br){if(bd.status!==al&&bd.status!==g){window.setTimeout(function(){a7(br)},5);return e}if((j("renameLinks")&&br.getAttribute("data-wh-rename-link")!=="false")||br.getAttribute("data-wh-rename-link")==="true"){br.innerHTML="<span>"+bd.data.name+"</span>"}var bq=br.getAttribute("data-wh-icon-size");if((bq||j("iconizeLinks"))&&(a0===x||a0===Y||a0===ah)&&bd.data.icon){if(!bq){bq=j("iconSize")}aB(br,bd.data,bq)}if(j("colorLinks")){if(a0===x){br.className+=" q"+bd.data.quality}}};a7(aY);return e}function aB(aW,aX,aV){if(!aV||typeof Icon==="undefined"||WH.inArray(Icon.sizes,aV)<0){aV="tiny"}var aY=aX.icon.toLocaleLowerCase();if(aV==="tiny"){aW.className+=" icontinyl";if(aW.style.setProperty){aW.style.setProperty("padding-left","18px","important")}else{aW.style.paddingLeft="18px"}aW.style.verticalAlign="center";aW.style.background="url("+g_staticUrl+"/images/wow/icons/tiny/"+aY+".gif) left center no-repeat"}else{if(aW.getAttribute("data-wh-icon-added")==="true"){return}WH.aef(aW,Icon.create(aY,Icon.sizeIds[aV],undefined,false,undefined,undefined,undefined,undefined,true))}aW.setAttribute("data-wh-icon-added","true")}function I(aX){aX=WH.normalizeEvent(aX);var aW=aX._target;var aV=0;while(aW!=null&&aV<5&&J(aW,aX)===aH){aW=aW.parentNode;++aV}}function r(aY){aY=WH.normalizeEvent(aY);var aX=this;if(aX.hasWHTouchTooltip===true){return}var aW=0;var aV;while(aX!=null&&aW<5&&(aV=J(aX,aY))===aH){aX=aX.parentNode;++aW}if(aV===e){if(ae!==null){ae.removeAttribute("data-showing-touch-tooltip");ae.hasWHTouchTooltip=false}ae=aX;ae.hasWHTouchTooltip=true;if(aY.stopPropagation){aY.stopPropagation()}if(aY.preventDefault){aY.preventDefault()}return false}}function aA(aV){aV=WH.normalizeEvent(aV);L(aV);WH.Tooltip.move(au,at,0,0,f,C)}function ag(){ak=null;ao=null;WH.Tooltip.hide()}function aj(aX){if(!WH.isDev()){return"https://"+aX+".wowhead.com"}var aV=document.location.hostname.split(".");aV=aV[aV.length-3];if(aX==="www"){aX=aV}else{aX=aX+"."+aV}var aW="https://"+aX+".wowhead.com";if(document.location.port!==""){aW+=((document.location.port.indexOf(":")<0)?":":"")+document.location.port}if(document.location.protocol!=="https:"){aW=aW.replace(/^https:/,"http:")}return aW}function w(aW){var aV="tooltip";if(p&&p.buff){aV="buff"}if(p&&p.text){aV="text"}if(p&&p.premium){aV="tooltip_premium"}return aV+(aW||"")}function aP(){return(p&&p.text)?"text_icon":"icon"}function aU(){return(p&&p.buff?"buff":"")+"spells"}function z(aV){if(typeof aV==="undefined"){return"image_NONE"}return"image"+aV}function h(a0,aW,aX,a2,aY){if(!aY){aY={}}var a1=ap(a0,aW,aY);ak=a0;F=a1;T=aX;aw=a2;p=aY;aa.isLoaded(a0,aX);var aZ=$WowheadPower.getEntity(a0,a1,aX,a2);if(aZ.status===al||aZ.status===g){var a3=aZ.data[z(aY.image)];var a4=aZ.data["image"+aY.image+"_class"];var aV=K(a0,aW);if(aV){a3=aV[0];a4=aV[1]}aQ(a2,aZ.data[w()],aZ.data[aP()],aZ.data.map,aZ.data[aU()],aZ.data[w(2)],a3,a4)}else{if(aZ.status===af||aZ.status===y){if(WH.inArray(v,a0)==-1){aQ(a2,c(a2,"loading"))}}else{az(a0,aW,aX,a2,WH.inArray(v,a0)!=-1,aY)}}}function az(a5,aV,aW,a8,a4,aY){var a6=ap(a5,aV,aY);var a0=$WowheadPower.getEntity(a5,a6,aW,a8);if(a0.status!==O&&a0.status!==aC){return}a0.status=af;var a2=aI(a5);if(a2&&(parseInt(aV,10)<a2.min||parseInt(aV,10)>a2.max)){$WowheadPower.register(a5,aV,aW,a8,{error:"ID is out of range"});return}if(!a4){a0.timer=setTimeout(V.bind(this,a5,a6,aW,a8),333)}var aX="";for(var a1 in aY){switch(a1){case"spec":if(a5===ah||a5===aL){break}case"abil":case"artk":case"azerite-powers":case"bonus":case"dd":case"ddsize":case"diff":case"diffnew":case"ench":case"gem1bonus":case"gem1lvl":case"gem2bonus":case"gem2lvl":case"gem3bonus":case"gem3lvl":case"gems":case"ilvl":case"level":case"lvl":case"nlc":case"nomajor":case"pvp":case"q":case"rand":case"rank":case"rewards":case"sock":case"tink":case"transmog":case"twcata":case"twmists":case"twtbc":case"twwotlk":case"upgd":if(typeof aY[a1]==="object"){aX+="&"+a1+"="+aY[a1].join(":")}else{if(aY[a1]===true){aX+="&"+a1}else{aX+="&"+a1+"="+aY[a1]}}break}}var aZ=WH.getDomainFromLocale(a8);switch(aW){case"live":break;case"beta":if(WH.BETA_DOMAIN){aZ+=(aZ?".":"")+WH.BETA_DOMAIN;break}default:aZ+=(aZ?".":"")+aW}if(!aZ){aZ="www"}var a3=aj(aZ);var a9="";if(aW==="ptr"||aW==="beta"){a9=(typeof g_wow_build!=="undefined")?"&"+g_wow_build:""}if(!aa.isLoaded(a5,aW)){aa.fetch(a5,aW)}if(a5==x&&aY&&aY.hasOwnProperty("lvl")&&!aa.isLoaded(ah,aW)){aa.fetch(ah,aW)}var a7=a3+"/tooltip/"+am(a5)+"/"+aV+aX+a9;WH.xhrJsonRequest(a7,(function(bc,bf,bb,be,ba,bd){if(!bd){WH.error("Wowhead tooltips failed to load data for "+av(bc)+" #"+bf);return}else{if(bd.error){WH.error("Wowhead tooltip request responded with an error",bd.error,av(bc)+" #"+bf)}}$WowheadPower.register(bc,bb,be,ba,bd)}).bind(null,a5,aV,a6,aW,a8))}function aQ(bb,be,a2,bd,aV,bl,aX,a1){ax();if(!B){return}if(ao&&ao._fixTooltip){be=ao._fixTooltip(be,ak,F,ao)}var bh=false;if(!be){be=c(bb,"notFound").replace("%s",av(ak));a2="inv_misc_questionmark";bh=true}else{if(p!=null){if(WH.reforgeStats&&p.forg&&WH.reforgeStats[p.forg]){var a0=WH.reforgeStats[p.forg];var bu=[a0.i1];for(var br in WH.individualToGlobalStat){if(WH.individualToGlobalStat[br]==bu[0]){bu.push(br)}}var bp;if((bp=be.match(new RegExp("(<!--(stat|rtg)("+bu.join("|")+")-->)[+-]?([0-9]+)")))&&!be.match(new RegExp("<!--(stat|rtg)"+a0.i2+"-->[+-]?[0-9]+"))){var bm=Math.floor(bp[4]*a0.v),bk=aN.traits[a0.s2][0];if(a0.i2==6){be=be.replace("<!--rs-->","<br />+"+bm+" "+bk)}else{be=be.replace("<!--rr-->",WH.sprintfGlobal(aN.tooltip_genericrating,bk.toLowerCase(),a0.i2,bm))}be=be.replace(bp[0],bp[1]+(bp[4]-bm));be=be.replace("<!--rf-->",'<span class="q2">'+WH.sprintfGlobal(aN.tooltip_reforged,bm,aN.traits[a0.s1][2],aN.traits[a0.s2][2])+"</span><br />")}}if(p.pcs&&p.pcs.length){var bo=0;for(var br=0,a6=p.pcs.length;br<a6;++br){var bp;var ba=new RegExp("<span><!--si([0-9]+:)*"+p.pcs[br]+'(:[0-9]+)*--><a href="/??item=(\\d+)">(.+?)</a></span>');if(bp=be.match(ba)){var bt=!isNaN(parseInt(aw))?s[aw]:"enus";var a4=(WH.isSet("g_items")&&g_items[p.pcs[br]])?g_items[p.pcs[br]]["name_"+bt]:bp[4];var aY='<a href="/item='+bp[3]+'">'+a4+"</a>";var a9='<span class="q13"><!--si'+p.pcs[br]+"-->"+aY+"</span>";be=be.replace(bp[0],a9);++bo}}if(bo>0){be=be.replace("(0/","("+bo+"/");be=be.replace(new RegExp("<span>\\(([0-"+bo+"])\\)","g"),'<span class="q2">($1)')}}if(p.know&&p.know.length){be=WH.setTooltipSpells(be,p.know,aV)}if(p.lvl){be=WH.setTooltipLevel(be,(p.lvl?p.lvl:100),p.buff)}if(p.who&&p.when){be=be.replace("<table><tr><td><br />",'<table><tr><td><br /><span class="q2">'+WH.sprintf(c(bb,"achievementComplete"),p.who,p.when.getMonth()+1,p.when.getDate(),p.when.getFullYear())+"</span><br /><br />");be=be.replace(/class="q0"/g,'class="r3"')}if(p.notip&&aX){be="";a2=null}if((ak==aq)&&p.pwr){be=be.replace(/<!--sca-->(\d+)<!--sca-->/g,function(bv,bw){return Math.floor(parseInt(bw)*(1+0.05*p.pwr))})}if((ak==Y)&&p.cri){for(var br=0;br<p.cri.length;br++){be=be.replace(new RegExp("<!--cr"+parseInt(p.cri[br])+":[^<]+","g"),'<span class="q2">$&</span>')}}}}if(!P&&WH.isSet("g_user")&&("lists" in g_user)&&WH.isSet("g_completion")){var aZ="";var aW=((ak in g_types)&&(g_types[ak] in g_completion))?g_completion[g_types[ak]]:false;var a5=$WowheadPower.getEntity(ak,F);if(aW&&(ak==aF)){if(bh||be===c(bb,"loading")||(a5.hasOwnProperty("worldquesttype")&&a5.worldquesttype!=0)||(a5.hasOwnProperty("daily")&&a5.daily!=0)||(a5.hasOwnProperty("weekly")&&a5.weekly!=0)){aW=false}}var bg=!(aW&&(ak in g_completion_categories)&&WH.inArray(g_completion_categories[ak],a5.completion_category)===-1);if(aW){for(var bs in g_user.lists){var bq=g_user.lists[bs];if(!(bq.id in aW)){continue}var bf=/^-?\d+(?:\.\d+)?/.exec(F);bf=(bf&&bf.length)?bf[0]:F;var a7=(WH.inArray(aW[bq.id],bf)!=-1);if(!a7&&!bg){continue}aZ+='<br><span class="progress-icon '+(a7?"progress-8":"progress-0")+'"></span> ';aZ+=bq.character+" - "+bq.realm+" "+bq.region}}if(aZ!=""){be+='<br><span class="q">'+window.LANG.completion+":</span>"+aZ}}if(!P&&ak==x&&WH.isSet("g_completion")&&("bagscans" in g_completion)){var a8=/^\d+/.exec(F);if(a8){a8=a8[0]}else{a8=-1}var bn=[];for(var bc in g_completion.bagscans){bn.push(bc)}var bj="";while(bc=bn.pop()){if(g_completion.bagscans[bc].items.hasOwnProperty(a8)){bj+='<tr><td class="q2" style="text-align: right">'+g_completion.bagscans[bc].items[a8]+'&nbsp;</td><td style="white-space: nowrap">'+g_completion.bagscans[bc].name+"</td></tr>"}}if(bj!=""){be+='<br><span class="q">'+window.LANG.tooltip_bagscanner+"</span><br><table>"+bj+"</table>"}}if(!P&&ak==aK&&typeof WH.getPreferredTransmogRace!=="undefined"){var a3=WH.getPreferredTransmogRace();be=be.replace(/\/modelviewer(\/classic)?\/transmog\/\d+\/\d+\//g,"/modelviewer$1/transmog/"+a3.race+"/"+(a3.gender-1)+"/")}if(!P&&be&&(p.diff||p.diffnew||p.noimage)){aX="";a1=""}be=be.replace("http://","https://");if(p.map&&bd&&bd.getMap){bl=bd.getMap()}var bi=function(bv){switch(an){case aD.screen:WH.Tooltip.showInScreen(ao,bv,null,bl,aX,a1,a2);break;case aD.attachToIcon:case aD.attach:WH.Tooltip.setIcon(an==aD.attachToIcon?null:a2);WH.Tooltip.show(ao,bv,null,null,null,bl,aX,a1);break;case aD.attachWithoutScreenshot:WH.Tooltip.setIcon(a2);WH.Tooltip.show(ao,bv,null,null,null,bl);break;case aD.floatWithoutIcon:WH.Tooltip.setIcon(null);WH.Tooltip.showAtXY(bv,au,at,f,C,bl,aX,a1);break;case aD["float"]:default:WH.Tooltip.setIcon(a2);WH.Tooltip.showAtXY(bv,au,at,f,C,bl,aX,a1)}if(P&&WH.Tooltip.logo){WH.Tooltip.logo.style.display=(E?"block":"none")}};aJ(be,bi,{type:ak,id:F,dataEnv:T,locale:aw,params:p})}function aJ(aW,aY,aX){switch(aX.type){case aL:var aV=$WowheadPower.getEntity(aX.type,aX.id,aX.dataEnv,aX.locale);if(aX.params.spec&&!(aX.params.know&&aX.params.know.length)){aa.getSpellsBySpec(aX.params.spec,function(aZ){aW=aW.replace(/<!--embed:([^>]+)-->/g,function(a0,a1){return WH.setTooltipSpells(aV.data.embeds[a1].tooltip,aZ,aV.data.embeds[a1].spells)});aY(aW)});break}else{aW=aW.replace(/<!--embed:([^>]+)-->/g,function(aZ,a0){return WH.setTooltipSpells(aV.data.embeds[a0].tooltip,aX.params.know,aV.data.embeds[a0].spells)})}window.requestAnimationFrame(aY.bind(null,aW));break;case ah:if(aX.params.spec&&!(aX.params.know&&aX.params.know.length)){aa.getSpellsBySpec(aX.params.spec,function(aZ){aW=WH.setTooltipSpells(aW,aZ,spellData);aY(aW)});break}window.requestAnimationFrame(aY.bind(null,aW));break;default:window.requestAnimationFrame(aY.bind(null,aW))}}function V(aX,aZ,aY,aV){if(ak==aX&&F==aZ&&T==aY&&aw==aV){aQ(aV,c(aV,"loading"));var aW=$WowheadPower.getEntity(aX,aZ,aY,aV);aW.timer=setTimeout(Q.bind(this,aX,aZ,aY,aV),3850)}}function Q(aX,aZ,aY,aV){var aW=$WowheadPower.getEntity(aX,aZ,aY,aV);aW.status=aC;if(ak==aX&&F==aZ&&T==aY&&aw==aV){aQ(aV,c(aV,"noResponse"))}}function ap(aV,aX,aW){return aX+(aW.rand?"r"+aW.rand:"")+(aW.ench?"e"+aW.ench:"")+(aW.gems?"g"+aW.gems.join(","):"")+(aW.sock?"s":"")+(aW.upgd?"u"+aW.upgd:"")+(aW.twtbc?"twtbc":"")+(aW.twwotlk?"twwotlk":"")+(aW.twcata?"twcata":"")+(aW.twmists?"twmists":"")+(aW.ilvl?"ilvl"+aW.ilvl:"")+(aW.lvl?"lvl"+aW.lvl:"")+(aW.gem1lvl?"g1lvl"+aW.gem1lvl:"")+(aW.gem2lvl?"g2lvl"+aW.gem2lvl:"")+(aW.gem3lvl?"g3lvl"+aW.gem3lvl:"")+(aW.artk?"ak"+aW.artk:"")+(aW.nlc?"nlc"+aW.nlc:"")+(aW.transmog?"transmog"+aW.transmog:"")+(aW.tink?"tink"+aW.tink:"")+(aW.pvp?"pvp":"")+(aW.bonus?"b"+aW.bonus.join(","):"")+(aW.gem1bonus?"g1b"+aW.gem1bonus.join(","):"")+(aW.gem2bonus?"g2b"+aW.gem2bonus.join(","):"")+(aW.gem3bonus?"g3b"+aW.gem3bonus.join(","):"")+(aW.q?"q"+aW.q:"")+(aW.level?"level"+aW.level:"")+(aW.abil?"abil"+aW.abil.join(","):"")+(aW.dd?"dd"+aW.dd:"")+(aW.ddsize?"ddsize"+aW.ddsize:"")+(aW.diff==ah?"diff"+aW.diff:"")+(aW.rank?"rank"+aW.rank:"")+(aV!==ah&&aW.spec?"spec"+aW.spec:"")+(aW.rewards?"rewards"+aW.rewards.join(":"):"")+(aW["azerite-powers"]?"azPowers"+aW["azerite-powers"]:"")+(aW.nomajor?"nomajor":"")}this.clearTouchTooltip=function(aX){if(ae){if(aX!==true){ae.removeAttribute("data-showing-touch-tooltip")}ae.hasWHTouchTooltip=false}ae=null;if(aX!==true&&document.querySelectorAll){var aV=document.querySelectorAll("[data-showing-touch-tooltip]");if(aV&&aV.length){for(var aY=0,aW;aW=aV[aY];aY++){aW.removeAttribute("data-showing-touch-tooltip")}}}if(WH.Tooltip.screen){WH.Tooltip.screenInnerWrapper.scrollTop=0;WH.Tooltip.screenInnerWrapper.scrollLeft=0;WH.Tooltip.screen.style.display="none";WH.Tooltip.mobileTooltipShown=false}WH.Tooltip.hide();$WowheadPower.setParent()};function K(aW,aY){if(P){return false}if(!WH.User.isPremium()){return false}if(WH.Tooltip.hideScreenshots){return false}var aX=am(aW);var aV="g_"+aX.replace("-","")+"s";if(!window[aV]){aV="g_"+aX.replace("-","_")+"s";if(!window[aV]){return false}}aV=window[aV];if(!aV[aY]){return false}if(aV[aY]["screenshot"]){return[WH.getScreenshotUrl(aV[aY]["screenshot"],"small"),"screenshot"]}return false}this.register=function(a4,aW,aX,a5,a3){var a2=this.getEntity(a4,aW,aX,a5);if(a3.hasOwnProperty("additionalIds")){var aY=a3.additionalIds;delete a3.additionalIds;if(aY.length){for(var a6=0;a6<aY.length;a6++){this.register(a4,aY[a6],aX,a5,a3)}}}if(!aa.isLoaded(a4,aX)){a2.status=y;aa.registerCallback(a4,aX,this.register.bind(this,a4,aW,aX,a5,a3));return}if((typeof aW==="string"&&(aW.indexOf("lvl")===0||aW.match(/[^i]lvl/)))&&!aa.isLoaded(ah,aX)){a2.status=y;aa.registerCallback(ah,aX,this.register.bind(this,a4,aW,aX,a5,a3));return}if(a2.timer){clearTimeout(a2.timer);delete a2.timer}if(!WH.wowheadRemote&&a3.map){if(a2.data.map==null){a2.data.map=new Mapper({parent:WH.ce("div"),zoom:3,zoomable:false,buttons:false})}a2.data.map.update(a3.map);delete a3.map}var aZ=P;for(var a0 in a3){if(!a3.hasOwnProperty(a0)){continue}if(!aZ&&/_(enus|frfr|dede|eses|ruru|ptbr|itit|zhcn|kokr|ptr|beta|classic)$/.test(a0)){aZ=true;WH.Track.nonInteractiveEvent("Tooltip","Remove Locale Suffix",[aX,a5,g_types[a4],aW].join(" "),a0)}var a1=a0.replace(/_(enus|frfr|dede|eses|ruru|ptbr|itit|zhcn|kokr|ptr|beta|classic)$/,"");a2.data[a1]=a3[a0]}switch(a2.status){case af:case y:case O:if(a2.data[w()]){a2.status=al}else{a2.status=g}}if(WH.Tooltip.showingTooltip&&ak==a4&&F==aW&&T==aX&&aw==a5){var a7=a2.data[z(p.image)];var a8=a2.data["image"+p.image+"_class"];var aV=K(a4,aW);if(aV){a7=aV[0];a8=aV[1]}aQ(a5,a2.data[w()],a2.data.icon,a2.data.map,a2.data[aU()],a2.data[w(2)],a7,a8)}while(a2.callbacks.length){a2.callbacks.shift()()}};this.request=function(aX,a0,aZ,aV,aY){if(!aY){aY={}}if(aV===undefined){aV=Z.getId()}if(!aZ){aZ=WH.getDataEnv()}var aW=ap(aX,a0,aY);this.getEntity(aX,aW,aZ,aV);az(aX,a0,aZ,aV,true,aY)};this.triggerTooltip=function(aW,aV){J(aW,aV||{target:aW})};this.refreshLinks=function(aV){if(aV===true||j("renameLinks")||j("colorLinks")||j("iconizeLinks")){for(var aW=0;aW<document.links.length;aW++){var aY=document.links[aW];var aX=aY.parentNode;var aZ=false;while(aX!=null){if((" "+aX.className+" ").replace(/[\n\t]/g," ").indexOf(" wowhead-tooltip ")>-1){aZ=true;break}aX=aX.parentNode}if(!aZ){J(aY)}}}this.hideTooltip()};this.setParent=function(aV){WH.Tooltip.reset();WH.Tooltip.prepare(aV)};this.replaceWithTooltip=function(a4,a0,aV,aW,a2,aX){if(!aX){aX={}}if(a2===undefined){a2=Z.getId()}if(!aW){aW=WH.getDataEnv()}if(typeof a4=="string"){a4=document.getElementById(a4)}if(!a4){return false}var a1=ap(a0,aV,aX);var aY=this.getEntity(a0,a1,aW,a2);switch(aY.status){case al:if(!a4.parentNode){return true}while(a4.hasChildNodes()){a4.removeChild(a4.firstChild)}a4.className+=" wowhead-tooltip-inline"+(aY.data.icon?" wowhead-tooltip-inline-icon":"");var aZ=aY.data[w()];var a3=function(a5){WH.Tooltip.append(a4,a5,true,aY.data.icon)};aJ(aZ,a3,{type:a0,id:aV,dataEnv:aW,locale:a2,params:aX});return true;case af:case O:aY.callbacks.push(this.replaceWithTooltip.bind(this,a4,a0,aV,aW,a2,aX));this.request(a0,aV,aW,a2,aX);return true}return false};if(P){this.set=function(aV){WH.cO(ay,aV)};this.showTooltip=function(aX,aW,aV){L(aX);aQ(0,aW,aV)};this.hideTooltip=function(){if(typeof WH==="undefined"||typeof WH.Tooltip==="undefined"||typeof WH.Tooltip.hide!=="function"){return}WH.Tooltip.hide()};this.moveTooltip=function(aV){aA(aV)}}ar()}};